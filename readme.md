## SkypeHist - утилита для получения истории и статистики из скайпа . 

### Умеет:

1. Выводить историю групповых диалогов
2. Выводить историю диалогов из двух участников
3. Выводить статистику чатов

Писалась и тестировалась под OS X 10.9

### Настройки
1. Забрать из гита skypehist.pl
2. Установить sqlite3 консольный клиент в систему
3. Найти базу данных скайпа в системе, файл main.db 
    
    MAC OS (заменить SKYPEID на свой) ~/Library/Application\ Support/Skype/SKYPEID/main.db

    WINDOWS (заменить SKYPEID на свой)  %appdata%\Skype\SKYPEID\main.db

### Опции запуска
    -lc,--listconv   - Вывести все доступные групповые диалоги и выйти (Id | Topic | Participants).
    -lu,--listisers  - Вывести все доступные диалоги из двух человек (Skypeid | Displayname)
    -id,--id    - Задать id группового диалога для вывода сообщений.
    -us,--us    - Задать skypeid участника, для вывода сообщений с ним.
    -db,--db    - Определить файл базы данных.
    -nc,--nocolor - Отключает цветной вывод. По умолчанию включен.
    -st,--stats - Вывод статистики вместо сообщений.
    -tt,--timethld - Определить количество дней для которых создаётся статистика, по умолчанию 30.
    -h,--help   - Вывести справку и выйти.

Примеры:
    Получить список всех групповых диалогов, указав файл базы данных
    ./skypehist.pl -db ~/main.db 
    Вывести историю сообщений группового диалога, указав файл базы данных
    ./skypehist.pl -db ~/main.db -id 97686
    Вывести список всех участников диалогов из двух человек.
    ./skypehist.pl -db ~/main.db -lu
    Вывести историю сообщений с конкретным skypeid, без подсветки символов.
    ./skypehist.pl -db ~/main.db -us fzeulf -nc
    Вывести статистику группового чата за 50 дней.
    ./skypehist.pl -db ~/main.db -id 100500 -st -tt 50
    Вывести статистику чата из двух человек за 30 дней.
    ./skypehist.pl -db ~/main.db -us fzeulf -st

Если файл базы данных main.db не указан, скрипт будет искать его рядом с собой.
Если скайп запущен, то файл базы может быть заблокирован, поэтому нужно выключить скайп или скопировать файл и работать с копией.

### Пример использования
Если мы хотим получить историю какого-либо группового диалога, то для начала просмотрим все доступные диалоги в базе:
    ./skypehist.pl -db ~/main.db -lc
Вывод сделан в виде таблицы Id | Topic | Participants, находим нужный нам чат и запоминаем его ID. Его указываем в следующей команде:
    ./skypehist.pl -db ~/main.db -id 23372
Если в базе есть история этого группового диалога - она будет выведена.

Если мы хотим получить историю какого-либо чата из двух человек, то нам понадобится skypeid собеседника.
    ./skypehist.pl -db ~/main.db -lu
Вывод сделан в виде таблицы Skypeid | Displayname, находим нужный нам skypeid. Его указываем в следующей команде:
    ./skypehist.pl -db ~/main.db -us stepashechka
Если в базе есть история чата с этим человеком, то она будет выведена.

### Change Log
Version 1.2.0
- Добавлена возможность вывода статистики.

Version 1.0.0
- Релизная версия.

Version 0.1.0
- Добавлена возможность отключать цвета.

Version 0.0.3
- Вывод истории групповых диалогов
- Вывод истории диалогов из двух участников
- Улучшена читабельность вывода
